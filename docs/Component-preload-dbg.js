//@ui5-bundle ui5/crypto/ui5cryptotest/Component-preload.js
sap.ui.require.preload({
	"ui5/crypto/ui5cryptotest/Component-preload.js":function(){
},
	"ui5/crypto/ui5cryptotest/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","sap/ui/model/json/JSONModel"],function(e,t,i){"use strict";return e.extend("ui5.crypto.ui5cryptotest.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(this.createDeviceModel(),"device")},createDeviceModel:function(){const e=new i(t);e.setDefaultBindingMode("OneWay");return e}})});
},
	"ui5/crypto/ui5cryptotest/controller/View1.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/ui/core/Fragment","sap/ui/core/syncStyleClass","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/FilterType","sap/ui/core/library","sap/base/Log"],function(e,t,r,n,i,o,s,a,c){"use strict";function l(e,r){return new Promise(function(n,i){cadesplugin.async_spawn(function*(n){const i=yield cadesplugin.CreateObjectAsync("CAdESCOM.Store");yield i.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);const o=yield i.Certificates;const s=yield o.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,e);const a=yield s.Count;if(a===0){const r="Certificate not found: "+e;t.error(r);n[1](r)}const c=yield s.Item(1);const l=yield cadesplugin.CreateObjectAsync("CAdESCOM.CPSigner");yield l.propset_Certificate(c);const d=yield cadesplugin.CreateObjectAsync("CAdESCOM.SignedXML");yield d.propset_Content(r);let u="";try{u=yield d.Sign(l)}catch(e){const r=cadesplugin.getLastError(e);t.error("Failed to create signature. Error: "+r);n[1](r)}yield i.Close();return n[0](u)},n,i)})}function d(e){return new Promise(function(r,n){cadesplugin.async_spawn(function*(r){const n=yield cadesplugin.CreateObjectAsync("CAdESCOM.SignedXML");try{yield n.Verify(e)}catch(e){const n=cadesplugin.getLastError(e);t.error("Failed to verify signature. Error: "+n);return r[1](n)}return r[0]()},r,n)})}function u(){return new Promise(function(e,r){cadesplugin.async_spawn(function*(e){try{const t=yield cadesplugin.CreateObjectAsync("CAdESCOM.Store");yield t.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);const r=yield t.Certificates;const n=yield r.Count;const i=[];for(let e=1;e<=n;e++){const t=yield r.Item(e);i.push({SubjectName:yield t.SubjectName,Thumbprint:yield t.Thumbprint,ValidToDate:new Date(yield t.ValidToDate)})}e[0](i)}catch(r){const n=cadesplugin.getLastError(r);t.error("Failed to load certificates. Error: "+n);e[1](n)}},e,r)})}return e.extend("ui5.crypto.ui5cryptotest.controller.View1",{onInit:function(){},handleFileChange:async function(e){function t(e){return new Promise((t,r)=>{const n=new FileReader;n.readAsText(e);n.onload=()=>t(n.result);n.onerror=e=>r(e)})}const r=await t(e.getParameter("files")[0]);const n=await this._askForCertificate();const i=this.getView();i.setBusy(true);let o;try{o=await l(n,r)}catch(e){c.error(e)}i.setBusy(false);i.getModel().setProperty("/target",o)},_askForCertificate:async function(){const e=this.getView().getModel().getProperty("/cert");if(e)return e;const t=await this._loadCertSelectDialog();t.setBusy(true);t.open();t.getModel().setProperty("/certs",await u());t.setBusy(false);return await new Promise((e,t)=>{this.resolveAskForCertificatePromise=e;this.rejectAskForCertificatePromise=t})},_loadCertSelectDialog:function(){const e=this.getView();const t=e.byId("CertSelectDialog");return t?Promise.resolve(t):r.load({id:e.getId(),name:"ui5.crypto.ui5cryptotest.fragment.CertSelectDialog",controller:this}).then(t=>{e.addDependent(t);n("sapUiSizeCompact",e,t);return t})},onCertSearch:function(e){const t=e.getParameter("value");e.getParameter("itemsBinding").filter(new i([new i("SubjectName",o.Contains,t),new i("Thumbprint",o.Contains,t)],false),s.Application)},onCertSelectDialogConfirm:function(e){const t=e.getParameter("selectedItem").getBindingContext().getObject("Thumbprint");this.getView().getModel().setProperty("/cert",t);this.resolveAskForCertificatePromise(t)},onCertSelectDialogCancel:function(){const e="Certificate not selected";t.error(e);this.rejectAskForCertificatePromise(e)},handleVerify:async function(){const e=this.getView();let t;e.setBusy(true);d(e.getModel().getProperty("/target")).then(()=>t=true,()=>t=false).finally(()=>{e.setBusy(false);const r=t?a.ValueState.Success:a.ValueState.Error;e.getModel().setProperty("/state",r)})},handleDownload:function(){const e=this.getView().getModel().getProperty("/target");const t=document.createElement("a");t.href=`data:text/plain;charset=utf-8,${encodeURIComponent(e)}`;t.download="signed.xml";t.click()}})});
},
	"ui5/crypto/ui5cryptotest/fragment/CertSelectDialog.fragment.xml":'<TableSelectDialog\r\n    xmlns="sap.m"\r\n    id="CertSelectDialog"\r\n    items="{/certs}"\r\n    confirm="onCertSelectDialogConfirm"\r\n    cancel="onCertSelectDialogCancel"\r\n    search="onCertSearch"><columns><Column width="50%"><Label text="{i18n>SubjectName}" /></Column><Column width="30%"><Label text="{i18n>Thumbprint}" /></Column><Column width="20%"><Label text="{i18n>ValidToDate}" /></Column></columns><items><ColumnListItem><Text text="{SubjectName}" /><Text text="{Thumbprint}" /><Text text="{ path: \'ValidToDate\', type: \'sap.ui.model.type.DateTime\' }" /></ColumnListItem></items></TableSelectDialog>',
	"ui5/crypto/ui5cryptotest/i18n/i18n_en.properties":'# This is the resource bundle for ui5.crypto.ui5cryptotest\r\n\r\n#Texts for manifest.json\r\n\r\n#XTIT: Application name\r\nappTitle=UI5 crypto\r\n\r\n#YDES: Application description\r\nappDescription=\r\n#XTIT: Main view title\r\ntitle=UI5 crypto\r\n\r\nflpTitle=ui5-crypto-test\r\n\r\nflpSubtitle=\r\n\r\nSubjectName=Subject Name\r\nThumbprint=Thumbprint\r\nValidToDate=Valid To Date\r\nVerify=Verify\r\nDownloadSigned=Download signed\r\nValidationService=Validation Service\r\n',
	"ui5/crypto/ui5cryptotest/manifest.json":'{"_version":"1.32.0","sap.app":{"id":"ui5.crypto.ui5cryptotest","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"resources":"resources.json","crossNavigation":{"inbounds":{"ui5-crypto-ui5cryptotest-inbound":{"signature":{"parameters":{},"additionalParameters":"allowed"},"semanticObject":"ui5crypto","action":"display","icon":""}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.108.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleLocale":"en","fallbackLocale":"en","bundleName":"ui5.crypto.ui5cryptotest.i18n.i18n","supportedLocales":["en"]}},"":{"type":"sap.ui.model.json.JSONModel"}},"resources":{"js":[{"uri":"thirdparty/cadesplugin_api.js"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"ui5.crypto.ui5cryptotest.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RouteView1","pattern":"RouteView1","target":["TargetView1"]}],"targets":{"TargetView1":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"View1","viewName":"View1"}}},"rootView":{"viewName":"ui5.crypto.ui5cryptotest.view.View1","type":"XML","async":true,"id":"View1"}}}',
	"ui5/crypto/ui5cryptotest/thirdparty/cadesplugin_api.js":function(){(function(){if(window.cadesplugin)return;var pluginObject;var plugin_resolved=0;var plugin_reject;var plugin_resolve;var isOpera=0;var isFireFox=0;var isSafari=0;var isYandex=0;var canPromise=!!window.Promise;var cadesplugin_loaded_event_recieved=false;var isFireFoxExtensionLoaded=false;var cadesplugin;if(canPromise){cadesplugin=new Promise(function(e,n){plugin_resolve=e;plugin_reject=n})}else{cadesplugin={}}function check_browser(){var e=navigator.userAgent,n,i=e.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(i[1])){n=/\brv[ :]+(\d+)/g.exec(e)||[];return{name:"IE",version:n[1]||""}}if(i[1]==="Chrome"){n=e.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/);if(n!=null)return{name:n[1].replace("OPR","Opera"),version:n[2]}}i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"];if((n=e.match(/version\/(\d+)/i))!=null)i.splice(1,1,n[1]);return{name:i[0],version:i[1]}}var browserSpecs=check_browser();function cpcsp_console_log(e,n){if(typeof console==="undefined")return;if(e<=cadesplugin.current_log_level){if(e===cadesplugin.LOG_LEVEL_DEBUG)console.log("DEBUG: %s",n);if(e===cadesplugin.LOG_LEVEL_INFO)console.info("INFO: %s",n);if(e===cadesplugin.LOG_LEVEL_ERROR)console.error("ERROR: %s",n);return}}function set_log_level(e){if(!(e===cadesplugin.LOG_LEVEL_DEBUG||e===cadesplugin.LOG_LEVEL_INFO||e===cadesplugin.LOG_LEVEL_ERROR)){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+e);return}cadesplugin.current_log_level=e;if(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG)cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG");if(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO)cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO");if(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR)cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR");if(isNativeMessageSupported()){if(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG)window.postMessage("set_log_level=debug","*");if(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO)window.postMessage("set_log_level=info","*");if(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR)window.postMessage("set_log_level=error","*")}}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0;cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1;cadesplugin.CAPICOM_CURRENT_USER_STORE=2;cadesplugin.CAPICOM_SMART_CARD_USER_STORE=4;cadesplugin.CADESCOM_MEMORY_STORE=0;cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1;cadesplugin.CADESCOM_CURRENT_USER_STORE=2;cadesplugin.CADESCOM_SMART_CARD_USER_STORE=4;cadesplugin.CADESCOM_CONTAINER_STORE=100;cadesplugin.CAPICOM_MY_STORE="My";cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2;cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1;cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0;cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1;cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2;cadesplugin.CADESCOM_XADES_DEFAULT=16;cadesplugin.CADESCOM_XADES_BES=32;cadesplugin.CADESCOM_XADES_T=80;cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488;cadesplugin.CADESCOM_XMLDSIG_TYPE=0;cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411";cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411";cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411";cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411";cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256";cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256";cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512";cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512";cadesplugin.CADESCOM_CADES_DEFAULT=0;cadesplugin.CADESCOM_CADES_BES=1;cadesplugin.CADESCOM_CADES_T=5;cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93;cadesplugin.CADESCOM_PKCS7_TYPE=65535;cadesplugin.CADESCOM_ENCODE_BASE64=0;cadesplugin.CADESCOM_ENCODE_BINARY=1;cadesplugin.CADESCOM_ENCODE_ANY=-1;cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0;cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1;cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2;cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0;cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1;cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0;cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1;cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2;cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3;cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4;cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5;cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6;cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7;cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8;cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9;cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10;cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11;cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12;cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128;cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9;cadesplugin.CAPICOM_OID_OTHER=0;cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10;cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2;cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5;cadesplugin.CAPICOM_EKU_OTHER=0;cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0;cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1;cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2;cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0;cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1;cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2;cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO=256;cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1;cadesplugin.CADESCOM_STRING_TO_UCS2LE=0;cadesplugin.CADESCOM_BASE64_TO_BINARY=1;cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0;cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1;cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2;cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0;cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1;cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2;cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3;cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4;cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25;cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0;cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1;cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2;cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3;cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4;cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5;cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6;cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100;cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101;cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102;cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110;cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111;cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112;cadesplugin.LOG_LEVEL_DEBUG=4;cadesplugin.LOG_LEVEL_INFO=2;cadesplugin.LOG_LEVEL_ERROR=1;cadesplugin.CADESCOM_AllowNone=0;cadesplugin.CADESCOM_AllowNoOutstandingRequest=1;cadesplugin.CADESCOM_AllowUntrustedCertificate=2;cadesplugin.CADESCOM_AllowUntrustedRoot=4;cadesplugin.CADESCOM_SkipInstallToStore=268435456;cadesplugin.CADESCOM_InstallCertChainToContainer=536870912;cadesplugin.CADESCOM_UseContainerStore=1073741824;cadesplugin.ENABLE_CARRIER_TYPE_CSP=1;cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2;cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4;cadesplugin.ENABLE_ANY_CARRIER_TYPE=7;cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0;cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1;cadesplugin.ENABLE_CARRIER_CREATE=2;cadesplugin.ENABLE_ANY_OPERATION=3;cadesplugin.CADESCOM_PRODUCT_CSP=0;cadesplugin.CADESCOM_PRODUCT_OCSP=1;cadesplugin.CADESCOM_PRODUCT_TSP=2;cadesplugin.MEDIA_TYPE_REGISTRY=1;cadesplugin.MEDIA_TYPE_HDIMAGE=2;cadesplugin.MEDIA_TYPE_CLOUD=4;cadesplugin.MEDIA_TYPE_SCARD=8;cadesplugin.XCN_CRYPT_STRING_BASE64HEADER=0;cadesplugin.AT_KEYEXCHANGE=1;cadesplugin.AT_SIGNATURE=2;cadesplugin.CARRIER_FLAG_REMOVABLE=1;cadesplugin.CARRIER_FLAG_UNIQUE=2;cadesplugin.CARRIER_FLAG_PROTECTED=4;cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER=8;cadesplugin.CARRIER_FLAG_SECURE_MESSAGING=16;cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE=64;cadesplugin.CARRIER_FLAG_VIRTUAL=128}function async_spawn(e){function n(e,n){var s;try{s=i[e](n)}catch(e){return Promise.reject(e)}if(s.done){return s.value}else{return Promise.resolve(s.value).then(a,_)}}var i=e(Array.prototype.slice.call(arguments,1));var a=n.bind(n,"next");var _=n.bind(n,"throw");return a()}function isIE(){return browserSpecs.name==="IE"||browserSpecs.name==="MSIE"}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){if(isIE())return false;if(browserSpecs.name==="Edg"){return true}if(browserSpecs.name==="YaBrowser"){isYandex=true;return true}if(browserSpecs.name==="Opera"){isOpera=true;if(browserSpecs.version>=33){return true}else{return false}}if(browserSpecs.name==="Firefox"){isFireFox=true;if(browserSpecs.version>=52){return true}else{return false}}if(browserSpecs.name==="Chrome"){if(browserSpecs.version>=42){return true}else{return false}}if(browserSpecs.name==="Safari"){isSafari=true;if(browserSpecs.version>=12){return true}else{return false}}}function CreateObject(e){if(isIOS()){return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[e])}if(isIE()){if(e.match(/X509Enrollment/i)){try{var n=document.getElementById("webClassFactory");return n.CreateObject(e)}catch(n){try{var i=document.getElementById("certEnrollClassFactory");return i.CreateObject(e)}catch(e){throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS"}}}try{var i=document.getElementById("webClassFactory");return i.CreateObject(e)}catch(n){return new ActiveXObject(e)}}return pluginObject.CreateObject(e)}function decimalToHexString(e){if(e<0){e=4294967295+e+1}return e.toString(16).toUpperCase()}function GetMessageFromException(e){var n=e.message;if(!n){n=e}else if(e.number){n+=" (0x"+decimalToHexString(e.number)+")"}return n}function getLastError(e){if(isNativeMessageSupported()||isIE()||isIOS()){return GetMessageFromException(e)}try{return pluginObject.getLastError()}catch(n){return GetMessageFromException(e)}}function ReleasePluginObjects(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(e){return pluginObject.CreateObjectAsync(e)}var ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function e(n,i){var a=ru_cryptopro_npcades_10_native_bridge.callbacks[n];if(!a)return;a.apply(null,i)},call:function e(n,i,a){var _=a&&typeof a==="function";var s=_?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;if(_)ru_cryptopro_npcades_10_native_bridge.callbacks[s]=a;var t=document.createElement("IFRAME");var l=new Array("_CPNP_handle");try{t.setAttribute("src","cpnp-js-call:"+n+":"+s+":"+encodeURIComponent(JSON.stringify(i,l)))}catch(e){alert(e)}document.documentElement.appendChild(t);t.parentNode.removeChild(t);t=null}};function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj;var ex;ru_cryptopro_npcades_10_native_bridge.call(functionName,array,function(e,response){ex=e;var str="tmpobj="+response;eval(str);if(typeof tmpobj==="string"){tmpobj=tmpobj.replace(/\\\n/gm,"\n");tmpobj=tmpobj.replace(/\\\r/gm,"\r")}});if(ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var e=document.createElement("div");e.id="cadesplugin_ovr";e.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)";e.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'>"+"<button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button>"+"<p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его."+"<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p>"+"</div>";document.getElementsByTagName("Body")[0].appendChild(e);document.getElementById("cadesplugin_close_install").addEventListener("click",function(){plugin_loaded_error("Плагин недоступен");document.getElementById("cadesplugin_ovr").style.visibility="hidden"});e.addEventListener("click",function(){plugin_loaded_error("Плагин недоступен");document.getElementById("cadesplugin_ovr").style.visibility="hidden"});e.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){if(window.cadesplugin_extension_loaded_callback)window.cadesplugin_extension_loaded_callback();isFireFoxExtensionLoaded=true;cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){if(!isIE()&&!isFireFox&&!isSafari){if(window.cadesplugin_extension_loaded_callback)window.cadesplugin_extension_loaded_callback()}window.postMessage("cadesplugin_echo_request","*");window.addEventListener("message",function(e){if(typeof e.data!=="string"||!e.data.match("cadesplugin_loaded"))return;if(cadesplugin_loaded_event_recieved)return;if(isFireFox||isSafari){var n=e.data.substring(e.data.indexOf("url:")+4);if(!n.match("^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$")){cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,'Bad url "'+n+'" for load CryptoPro Extension for CAdES Browser plug-in');plugin_loaded_error();return}var i=document.createElement("script");i.setAttribute("type","text/javascript");i.setAttribute("src",n);i.onerror=plugin_loaded_error;i.onload=firefox_or_safari_nmcades_onload;document.getElementsByTagName("head")[0].appendChild(i)}else{cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}cadesplugin_loaded_event_recieved=true},false)}function load_extension(){if(isFireFox||isSafari){nmcades_api_onload()}else{if(isOpera||isYandex){var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js");e.onerror=plugin_loaded_error;e.onload=nmcades_api_onload;document.getElementsByTagName("head")[0].appendChild(e)}else{var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js");e.onerror=plugin_loaded_error;e.onload=nmcades_api_onload;document.getElementsByTagName("head")[0].appendChild(e)}}}function load_npapi_plugin(){var e=document.createElement("object");e.setAttribute("id","cadesplugin_object");e.setAttribute("type","application/x-cades");e.setAttribute("style","visibility: hidden");document.getElementsByTagName("body")[0].appendChild(e);pluginObject=document.getElementById("cadesplugin_object");if(isIE()){var n=document.createElement("object");n.setAttribute("id","certEnrollClassFactory");n.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09");n.setAttribute("style","visibility: hidden");document.getElementsByTagName("body")[0].appendChild(n);var i=document.createElement("object");i.setAttribute("id","webClassFactory");i.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024");i.setAttribute("style","visibility: hidden");document.getElementsByTagName("body")[0].appendChild(i)}}function plugin_loaded(){plugin_resolved=1;if(canPromise){plugin_resolve()}else{window.postMessage("cadesplugin_loaded","*")}}function plugin_loaded_error(e){if(typeof e==="undefined"||typeof e==="object")e="Плагин недоступен";plugin_resolved=1;if(canPromise){plugin_reject(e)}else{window.postMessage("cadesplugin_load_error","*")}}function check_load_timeout(){if(plugin_resolved===1)return;if(isFireFox){if(!isFireFoxExtensionLoaded)show_firefox_missing_extension_dialog()}plugin_resolved=1;if(canPromise){plugin_reject("Истекло время ожидания загрузки плагина")}else{window.postMessage("cadesplugin_load_error","*")}}function createPromise(e){return new Promise(e)}function check_npapi_plugin(){try{var e=CreateObject("CAdESCOM.About");plugin_loaded()}catch(e){document.getElementById("cadesplugin_object").style.display="none";var n=navigator.mimeTypes["application/x-cades"];if(n){var i=n.enabledPlugin;if(i){plugin_loaded_error("Плагин загружен, но не создаются обьекты")}else{plugin_loaded_error("Ошибка при загрузке плагина")}}else{plugin_loaded_error("Плагин недоступен")}}}function check_plugin_working(){var e=document.createElement("div");e.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e";var n=e.getElementsByTagName("i").length===1;if(n){plugin_loaded_error("Internet Explorer версии 8 и ниже не поддерживается");return}if(isNativeMessageSupported()){load_extension()}else if(!canPromise){window.addEventListener("message",function(e){if(e.data!=="cadesplugin_echo_request")return;load_npapi_plugin();check_npapi_plugin()},false)}else{if(document.readyState==="complete"){load_npapi_plugin();check_npapi_plugin()}else{window.addEventListener("load",function(e){load_npapi_plugin();check_npapi_plugin()},false)}}}function set_pluginObject(e){pluginObject=e}function is_capilite_enabled(){if(typeof cadesplugin.EnableInternalCSP!=="undefined"&&cadesplugin.EnableInternalCSP)return true;return false}cadesplugin.JSModuleVersion="2.3.3";cadesplugin.async_spawn=async_spawn;cadesplugin.set=set_pluginObject;cadesplugin.set_log_level=set_log_level;cadesplugin.getLastError=getLastError;cadesplugin.is_capilite_enabled=is_capilite_enabled;if(isNativeMessageSupported()){cadesplugin.CreateObjectAsync=CreateObjectAsync;cadesplugin.ReleasePluginObjects=ReleasePluginObjects}if(!isNativeMessageSupported()){cadesplugin.CreateObject=CreateObject}if(window.cadesplugin_load_timeout){setTimeout(check_load_timeout,window.cadesplugin_load_timeout)}else{setTimeout(check_load_timeout,2e4)}set_constantValues();cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR;window.cadesplugin=cadesplugin;check_plugin_working()})();
},
	"ui5/crypto/ui5cryptotest/utils/locate-reuse-libs.js":'(function(e){var t=function(e){var t=e;var n="";var r=["sap.apf","sap.base","sap.chart","sap.collaboration","sap.f","sap.fe","sap.fileviewer","sap.gantt","sap.landvisz","sap.m","sap.ndc","sap.ovp","sap.rules","sap.suite","sap.tnt","sap.ui","sap.uiext","sap.ushell","sap.uxap","sap.viz","sap.webanalytics","sap.zen"];function a(e,t){Object.keys(e).forEach(function(e){if(!r.some(function(t){return e===t||e.startsWith(t+".")})){if(t.length>0){t=t+","+e}else{t=e}}});return t}return new Promise(function(r,i){$.ajax(t).done(function(e){if(e){if(e["sap.ui5"]&&e["sap.ui5"].dependencies){if(e["sap.ui5"].dependencies.libs){n=a(e["sap.ui5"].dependencies.libs,n)}if(e["sap.ui5"].dependencies.components){n=a(e["sap.ui5"].dependencies.components,n)}}if(e["sap.ui5"]&&e["sap.ui5"].componentUsages){n=a(e["sap.ui5"].componentUsages,n)}}r(n)}).fail(function(t){i(new Error("Could not fetch manifest at \'"+e))})})};e.registerComponentDependencyPaths=function(e){return t(e).then(function(e){if(e&&e.length>0){var t="/sap/bc/ui2/app_index/ui5_app_info?id="+e;var n=jQuery.sap.getUriParameters().get("sap-client");if(n&&n.length===3){t=t+"&sap-client="+n}return $.ajax(t).done(function(e){if(e){Object.keys(e).forEach(function(t){var n=e[t];if(n&&n.dependencies){n.dependencies.forEach(function(e){if(e.url&&e.url.length>0&&e.type==="UI5LIB"){jQuery.sap.log.info("Registering Library "+e.componentId+" from server "+e.url);jQuery.sap.registerModulePath(e.componentId,e.url)}})}})}})}})}})(sap);var scripts=document.getElementsByTagName("script");var currentScript=document.getElementById("locate-reuse-libs");if(!currentScript){currentScript=document.currentScript}var manifestUri=currentScript.getAttribute("data-sap-ui-manifest-uri");var componentName=currentScript.getAttribute("data-sap-ui-componentName");var useMockserver=currentScript.getAttribute("data-sap-ui-use-mockserver");sap.registerComponentDependencyPaths(manifestUri).catch(function(e){jQuery.sap.log.error(e)}).finally(function(){sap.ui.getCore().attachInit(function(){jQuery.sap.require("jquery.sap.resources");var e=sap.ui.getCore().getConfiguration().getLanguage();var t=jQuery.sap.resources({url:"i18n/i18n.properties",locale:e});document.title=t.getText("appTitle")});if(componentName&&componentName.length>0){if(useMockserver&&useMockserver==="true"){sap.ui.getCore().attachInit(function(){sap.ui.require([componentName.replace(/\\./g,"/")+"/localService/mockserver"],function(e){e.init();sap.ushell.Container.createRenderer().placeAt("content")})})}else{sap.ui.require(["sap/ui/core/ComponentSupport"]);sap.ui.getCore().attachInit(function(){jQuery.sap.require("jquery.sap.resources");var e=sap.ui.getCore().getConfiguration().getLanguage();var t=jQuery.sap.resources({url:"i18n/i18n.properties",locale:e});document.title=t.getText("appTitle")})}}else{sap.ui.getCore().attachInit(function(){sap.ushell.Container.createRenderer().placeAt("content")})}});sap.registerComponentDependencyPaths(manifestUri);',
	"ui5/crypto/ui5cryptotest/view/View1.view.xml":'<mvc:View\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:unified="sap.ui.unified"\n    xmlns:layout="sap.ui.layout"\n    controllerName="ui5.crypto.ui5cryptotest.controller.View1"\n    displayBlock="true"><Shell><App><Page\n                title="{i18n>title}"\n                class="sapUiContentPadding"><layout:Grid><unified:FileUploader\n                        change="handleFileChange"\n                        width="100%"><unified:layoutData><layout:GridData span="L6 M6 S12" /></unified:layoutData></unified:FileUploader><TextArea\n                        value="{/target}"\n                        editable="false"\n                        rows="20"\n                        width="100%"><layoutData><layout:GridData span="L12 M12 S12" /></layoutData></TextArea><Button\n                        enabled="{= !!${/target} }"\n                        text="{i18n>Verify}"\n                        press="handleVerify"\n                        width="100%"><layoutData><layout:GridData span="L2 M4 S6" /></layoutData></Button><ObjectStatus\n                        state="{/state}"\n                        icon="{= ${/state} ? \'sap-icon://message-success\' : \'sap-icon://message-error\'}"\n                        class="sapUiTinyMarginTop"><layoutData><layout:GridData span="L2 M2 S1" /></layoutData></ObjectStatus><Button\n                        enabled="{= !!${/target} }"\n                        text="{i18n>DownloadSigned}"\n                        press="handleDownload"\n                        width="100%"><layoutData><layout:GridData\n                                span="L2 M4 S6"\n                                linebreak="true" /></layoutData></Button></layout:Grid></Page></App></Shell></mvc:View>'
});
