/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/UIArea"],function(e,t,n,r){"use strict";var a=null,o=[];var i={setScope:function(){o=n.registry.filter(function(){return true})}};var u={setScope:function(){var e=n.registry.get(a.parentId);o=e.findAggregatedObjects(true)}};var f={setScope:function(){var e={};a.components.forEach(function(n){var r=t.registry.get(n),a=r.findAggregatedObjects(true);a.forEach(function(t){e[t.getId()]=t})});for(var n in e){if(e.hasOwnProperty(n)){o.push(e[n])}}}};var c={global:i,subtree:u,components:f};function s(e){var t=e.getParent().getMetadata().getAggregation(e.sParentAggregationName);return!!t}function g(e){var t;if(e.getRootControl){t=e.getRootControl();if(t){return[t].concat(t.findAggregatedObjects(true,s))}}return[]}function p(e){var t=e.sParentAggregationName,n=e.getParent();if(n&&t){var r=n.getBindingInfo(t);if(r&&e instanceof r.template.getMetadata().getClass()){return true}else{return p(n)}}return false}function l(e){var t=e.sParentAggregationName,n=e.getParent();if(n&&t){var r=n.getBindingInfo(t);if(r&&e instanceof r.template.getMetadata().getClass()){return n.getId()}else{return l(n)}}return null}function v(e,t){var n=[];for(var r=0,a=e.length;r<a;r++){for(var o=0,i=t.length;o<i;o++){if(e[r]===t[o]){n.push(e[r])}}}return n}function d(n,i){o=[];a=i;c[a.type].setScope();return{getElements:function(e){var t=this;var n={type:null,public:false,cloned:true};if(e&&Object.keys(e).length){var r=o;var a={};Object.keys(n).forEach(function(n){if(e.hasOwnProperty(n)){switch(n){case"type":var o=t.getElementsByClassName(e["type"]);r=v(r,o);break;case"public":if(e["public"]===true){var i=t.getPublicElements();r=v(r,i)}break;case"cloned":if(!e["cloned"]){r=r.filter(function(e){var t=p(e);if(t){var n=l(e);if(!a.hasOwnProperty(n)){a[n]=e}}return t===false})}break}}});Object.keys(a).forEach(function(e){r.push(a[e])});return r}return o},getPublicElements:function(){var e=[];var n=r.registry.all();t.registry.forEach(function(t){e=e.concat(g(t))});for(var a in n){e=e.concat(g(n[a]))}return e},getElementsByClassName:function(e){if(typeof e==="string"){return o.filter(function(t){return t.getMetadata().getName()===e})}if(typeof e==="function"){return o.filter(function(t){return t instanceof e})}},getLoggedObjects:function(t){var n=e.getLogEntries(),r=[],a;n.forEach(function(e){if(!e.supportInfo){return}if(!a){a=o.map(function(e){return e.getId()})}var n=!!e.supportInfo.elementId,i=e.supportInfo.type===t||t===undefined,u=!n||a.indexOf(e.supportInfo.elementId)>-1;if(typeof t==="function"&&t(e)&&u){r.push(e);return}if(i&&u){r.push(e)}});return r},getType:function(){return a.type},_getContext:function(){return a}}}d.possibleScopes=Object.getOwnPropertyNames(c);return d},true);